# customHttp.yml
customHeaders:
    # Fonts WOFF2 — 1 an
    - pattern: "/media/*.woff2"
      headers:
          - key: Cache-Control
            value: "public, max-age=31536000, s-maxage=31536000, immutable"
          - key: Access-Control-Allow-Origin
            value: "*"

    # Chunks/JS hashés — 1 an
    - pattern: "/chunks/*"
      headers:
          - key: Cache-Control
            value: "public, max-age=31536000, s-maxage=31536000, immutable"

    # CSS global — 17 jours
    - pattern: "/css/globals.css"
      headers:
          - key: Cache-Control
            value: "public, max-age=1468800, s-maxage=1468800, stale-while-revalidate=86400"

    # CSS mobileDefer — 1 heure
    - pattern: "/css/mobileDefer.css"
      headers:
          - key: Cache-Control
            value: "public, max-age=3600, s-maxage=3600, must-revalidate"

    - pattern: "/img/**"
      headers:
          - key: Cache-Control
            value: "public, max-age=31536000, immutable"

    - pattern: "/img/services/**"
      headers:
          - key: Cache-Control
            value: "public, max-age=31536000, immutable"

    - pattern: "/img/about/**"
      headers:
          - key: Cache-Control
            value: "public, max-age=31536000, immutable"
             - pattern: "/*"
             
    - pattern: "/*"         
      headers:
        - key: Access-Control-Allow-Origin
          value: "https://desktop.peur-de-la-conduite.fr"
        - key: Access-Control-Allow-Credentials
          value: "true"
        - key: Access-Control-Allow-Methods
          value: "GET,POST,OPTIONS"
        - key: Access-Control-Allow-Headers
          value: "Content-Type,Authorization"
        - key: Access-Control-Max-Age
          value: "600"
        - key: Vary
          value: "Origin"

